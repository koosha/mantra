# Mantra Interface Comparison

## Two Ways to Use Mantra

---

## ğŸ’¬ Chat Widget (NEW!)

### What It Looks Like

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Website Content                   â”‚
â”‚                                          â”‚
â”‚  Lorem ipsum dolor sit amet...          â”‚
â”‚                                          â”‚
â”‚                                          â”‚
â”‚                                    â”Œâ”€â”€â”€â”â”‚
â”‚                                    â”‚ ğŸ’¬ â”‚â”‚  â† Floating button
â”‚                                    â””â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When clicked:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Website Content                   â”‚
â”‚                                          â”‚
â”‚  Lorem ipsum...              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                              â”‚ Mantra  â”‚â”‚
â”‚                              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚                              â”‚ Bot: Hi!â”‚â”‚
â”‚                              â”‚ You: ?  â”‚â”‚  â† Chat window
â”‚                              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚                              â”‚ [Type...â”‚â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â”Œâ”€â”€â”€â”â”‚
â”‚                                    â”‚ Ã— â”‚â”‚  â† Close button
â”‚                                    â””â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

âœ… **Floating chat button** (bottom-right corner)
âœ… **Expandable chat window** (clicks to open/close)
âœ… **Embeddable** in any website
âœ… **Lightweight** (pure HTML/CSS/JS)
âœ… **Mobile-responsive**
âœ… **Beautiful animations**
âœ… **REST API backend**

### Best For

- Embedding in your website
- Modern chat experience
- Minimal interface
- Quick questions
- Mobile users

### How to Start

```bash
./start_chat_widget.sh
```

Opens at: **http://localhost:8000**

---

## ğŸ–¥ï¸ Streamlit App (Original)

### What It Looks Like

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš–ï¸  Mantra - Delaware Corporate Law    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                          â”‚
â”‚ Sidebar:                    Main Area:  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Filters  â”‚              â”‚ Chat       â”‚â”‚
â”‚ â”‚ Court: â–¼ â”‚              â”‚ History    â”‚â”‚
â”‚ â”‚ Date: â–¼  â”‚              â”‚            â”‚â”‚
â”‚ â”‚ Examples â”‚              â”‚ [Messages] â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚            â”‚â”‚
â”‚                            â”‚ [Input]    â”‚â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

âœ… **Full dashboard** interface
âœ… **Advanced filters** (court, date, topics)
âœ… **Conversation history**
âœ… **Source display** with expandable sections
âœ… **Example queries**
âœ… **Index status** monitoring
âœ… **Rich formatting**

### Best For

- Research sessions
- Detailed analysis
- Multiple queries
- Advanced filtering
- Power users

### How to Start

```bash
./start_mantra.sh
```

Opens at: **http://localhost:8501**

---

## Side-by-Side Comparison

| Feature | Chat Widget ğŸ’¬ | Streamlit App ğŸ–¥ï¸ |
|---------|---------------|------------------|
| **Interface** | Floating button + chat | Full dashboard |
| **Port** | 8000 | 8501 |
| **Backend** | FastAPI | Streamlit |
| **Embeddable** | âœ… Yes | âŒ No |
| **Mobile-friendly** | âœ… Excellent | âš ï¸ OK |
| **Filters** | Basic | Advanced |
| **History** | Current session | Full history |
| **API** | âœ… REST API | âŒ No API |
| **Customizable** | âœ… Highly | âš ï¸ Limited |
| **Load time** | < 1s | ~2s |
| **Use case** | Quick chat | Research |

---

## Backend Architecture

Both interfaces use the **same RAG pipeline**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat Widget  â”‚â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                  â”œâ”€â”€â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚   RAG Pipeline  â”‚
â”‚ Streamlit    â”‚â”€â”€â”˜    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ Query Classifierâ”‚
                       â”‚ FAISS Indexer   â”‚
                       â”‚ Response Gen.   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Components shared:
- `src/mantra/query_classifier.py`
- `src/mantra/indexer.py`
- `src/mantra/response_generator.py`
- `src/mantra/data_extractor.py`

---

## Running Both Simultaneously

You can run both at the same time!

**Terminal 1:**
```bash
./start_chat_widget.sh
# Running on http://localhost:8000
```

**Terminal 2:**
```bash
./start_mantra.sh
# Running on http://localhost:8501
```

Both will share the same:
- FAISS index
- OpenAI API key
- Delaware case data

---

## Choosing Which to Use

### Use Chat Widget When:
- ğŸŒ Embedding in a website
- ğŸ“± Mobile-first design
- âš¡ Quick questions
- ğŸ¨ Need custom branding
- ğŸ”Œ Want REST API access

### Use Streamlit App When:
- ğŸ” Detailed research
- ğŸ“Š Need advanced filters
- ğŸ“ Long conversation sessions
- ğŸ“ Teaching/demonstrations
- ğŸ’¼ Internal tool for legal team

---

## Development

### Chat Widget Development
- **Edit UI**: `static/index.html`
- **Edit logic**: `static/chat-widget.js`
- **Edit API**: `chat_api.py`
- **Hot reload**: Changes require server restart

### Streamlit Development
- **Edit app**: `mantra_app.py`
- **Hot reload**: Automatic (Streamlit watches files)
- **Components**: Shared with chat widget

---

## Deployment

### Chat Widget Deployment
- Deploy FastAPI backend to any cloud service
- Serve static files via CDN
- Embed widget code in your website

### Streamlit Deployment
- Deploy to Streamlit Cloud (easiest)
- Or use Docker on any platform
- Access control with authentication

---

## Cost Comparison

Both interfaces have the **same operating costs** because they use the same backend:

**Per 1,000 queries:**
- Embeddings: ~$0.02
- GPT-4: ~$150
- **Total: ~$150/month**

**To reduce costs:**
- Use GPT-4o-mini: ~$15/month (10x cheaper)
- Cache common queries
- Batch similar questions

---

## Summary

| Aspect | Chat Widget | Streamlit |
|--------|------------|-----------|
| ğŸ¯ **Purpose** | Embeddable chat | Research tool |
| ğŸ‘¥ **Audience** | Website visitors | Power users |
| ğŸ’» **Tech** | FastAPI + Vanilla JS | Streamlit |
| ğŸš€ **Deployment** | Any web host | Streamlit Cloud |
| ğŸ¨ **Customization** | High | Medium |
| ğŸ“Š **Features** | Essential | Comprehensive |

---

**Choose based on your use case - or use both!** ğŸ‰

- **For websites**: Use the chat widget
- **For research**: Use the Streamlit app
- **For everything**: Run both and switch as needed

---

*Both interfaces are fully functional and production-ready!* âœ…
